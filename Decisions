DECISÕES DO PROJETO
1- Uso do Roles Anywhere vs IAM User
Como o servidor Rsyslog se encontra on-premise, não dá para utilizar IAM Roles tradicionais, e a alternativa de se utilizar IAM Users é menos segura, já que as credenciais são estáticas e não há rotação automática.
2- imuxsock vs imjournal
Ambos coletam logs locais, porém as mensagens recebidas pelo imjournal são mais ricas em contexto, porém têm uma perda significativa de performance em relação ao imuxsock, além de que esse último é oficialmente suportado pelo projeto. Para esse projeto, o imuxsock foi escolhido.
3- Usar buckets distintos ao invés de retenção por objeto.
No S3, não é possível definir políticas de retenção por prefixos ou tags. Você precisa especificar no upload. Para evitar complexidade excessiva no script, decidi separar os logs em dois buckets, cada um com uma política global de retenção diferente.
4- ABAC vs. bucket policy
Usar ABAC (Attribute Based Access Control) é mais flexível e dinâmico, especialmente para buckets compartilhados por múltiplos times e equipes. Esse não é o caso, logo a simplicidade de uma bucket policy e de políticas IAM bem construídas fez mais sentido.
5- Usar .tar.gz ao invés de preservar a estrutura dos logs.
Os buckets de classes de acesso menos frequente (IA e Glacier) possuem um tamanho mínimo de objeto. Para reduzir o número de objetos pequenos no bucket (objetos com menos de 128kb), decidi diminuir a granularidade, empacotando parte da árvore de diretórios antes de fazer o upload para o S3. 
6- Usar CA intermediária ao invés de apenas raiz.
Usar CA raiz direto para assinar certificados finais é um risco, já que o comprometimento dela implica revogação de todos os certificados. Logo, utilizei um CA intermediário para assinar o certificado do servidor Rsyslog ao invés de utilizar direto a raiz, que então foi apenas usada como Trust Anchor no Roles Anywhere.
7- Bucket com retenção
Como o bucket armazena arquivos de logs que, em princípio, devem ser imutáveis, foi decidida a ativação da função de bloqueio de objeto no bucket para impedir o apagamento de logs e modificações definitivas. 
8 - UDP ou TCP ou Ambos
TCP é o padrão atual, já que é confiável, ou seja, mensagens não correm o risco de não chegarem no servidor e nunca serem registradas. Porém, dispositivos mais antigos ou mais simples ainda suportam apenas UDP, logo, para manter compatibilidade, resolvi utilizar ambos.
9- Sincronizar com o bucket diariamente ao invés de no final do mês.
10 - LVM vs particionamento tradicional (MBR/GPT)
LVM permite maior facilidade na hora da expansão, já que posso mover PVs de forma online, além de facilmente expandir LVs para além de um único disco. Considerando um aumento do número de equipamentos em uma infraestrutura, o volume de logs aumenta, requerendo upgrade do armazenamento.
11 - Tratar diferentes severidades.
Devido a fatores como volume, utilidade e criticidade, foi definido quais níveis de severidade seriam mantidos localmente no servidor (info e notice) e quais iriam para o S3.
(warning em diante). O nível de severidade também foi levado em conta para determinar a política de ciclo de vida no S3.
12 - Rsyslog vs syslog-ng
O syslog-ng, quando se trata de filtros e pipelines complexos de logs, se destaca em relação ao Rsyslog. Porém, o Rsyslog é mais performático e mais simples de configurar. Como o projeto se encontra em um ambiente controlado com pouco volume e pipelines simplificados, a facilidade de configuração do Rsyslog faz mais sentido.

